/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2023 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((t="undefined"!=typeof globalThis?globalThis:t||self).TE=t.TE||{},t.TE.Rect={}))}(this,(function(t){"use strict";var n,r,e=function(t){return Array.isArray(t)},i=function(t){return"number"==typeof t},o=function(t,n){return void 0===n&&(n=!0),"object"==typeof t&&(!n||function(t,n){return t&&u(n)&&t instanceof n}(t,Object))},u=function(t){return function(t){return void 0!==t}(t)&&!function(t){return null===t}(t)},f=function(t){return"string"==typeof t},a=function(t){return t.replace(/[-_.](\w)/g,(function(t,n){return c(n)}))},c=function(t){return t.toUpperCase()},l=function(t,n){return void 0===n&&(n=10),n?parseInt(t,n):parseFloat(t)},d=function t(n){if(e(n))return n.map((function(n){return t(n)}));if(function(t){return/^-?(?:\d*.)?\d+$/.test(t+"")}(n))return l(n);if(o(n)){for(var r in n)n[r]=t(n[r]);return n}return"false"!==n&&("null"===n?null:"true"===n||n)},s=function(t,n){return t=t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"),n&&(t=t.replace(/'/g,"&apos;").replace(/"/g,"&quot;")),t},p=function t(n){if(e(n))return n.map((function(r){return t(n)}));if(o(n)){for(var r in n)n[r]=t(n[r]);return n}return!1===n?"false":null===n?"null":!0===n?"true":""+n},h=document,v=window,g=h.body,w=function(t,n){var r=t.children;return i(n)?r[n]||null:r||[]},y=function(t,n,r){void 0===r&&(r=!0);var e=v.getComputedStyle(t).getPropertyValue(n);return r&&(e=d(e)),e||""===e||0===e?e:null},b=function(t,n){return t.removeAttribute(n),t},m=function(t,n){return t.style[a(n)]=null,t},x=function(t,n,r){return!0===r&&(r=n),t.setAttribute(n,p(r)),t},T=function(t,n){return t.append(n),n},E=function(t,n,r){return t=f(t)?h.createElement(t):t,o(n)&&(r=n,n=!1),f(n)&&j(t,n),o(r)&&function(t,n){var r;for(var e in n)(r=n[e])||""===r||0===r?x(t,e,r):b(t,e)}(t,r),t},j=function(t,n,r){if(void 0===r&&(r=!0),null===n)return t;var e="innerHTML";return function(t,n){return n in t}(t,e)&&(t[e]=r?n.trim():n),t},z=function(t,n,r){return i(r)&&(r+="px"),t.style[a(n)]=p(r),t},A=function(t,n){var r;for(var e in n)(r=n[e])||""===r||0===r?z(t,e,r):m(t,e);return t},H=function(t){return[t.offsetLeft,t.offsetTop]},k=function(t){return function(t){return t===v}(t)?[t.innerWidth,t.innerHeight]:[t.offsetWidth,t.offsetHeight]};function C(t,n){return void 0===n&&(n="span"),"<"+n+">"+t+"</"+n+">"}function L(t,n){var r=this;r.mirror=E("div"),r.rect=function(n){var e=function(t,n,r){var e=C("&zwnj;"),i=["border-bottom-width","border-left-width","border-right-width","border-top-width","box-sizing","direction","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","max-width","min-height","min-width","padding-bottom","padding-left","padding-right","padding-top","tab-size","text-align","text-decoration","text-indent","text-transform","width","word-spacing"];j(n,C(s(t.before))+e+C(s(t.value),"mark")+e+C(s(t.after)));var o="";i.forEach((function(t){var n=y(r,t);n&&(o+=t+":"+n+";")}));var u=l(y(r,i[1]),0),f=l(y(r,i[3]),0),a=H(r),c=a[0],d=a[1],p=k(r),h=p[0],v=p[1];x(n,"style",o),A(n,{"border-style":"solid","white-space":"pre-wrap","word-wrap":"break-word",overflow:"hidden",position:"absolute",left:c,top:d,visibility:"hidden"}),T(g,n);var b=w(n),m=b[1],E=b[2],z=b[3],L=H(m),W=k(m),$=H(E),q=k(E),F=H(z),I=k(z);return[{h:W[1],w:0,x:L[0]+c+u,y:L[1]+d+f},{h:I[1],w:0,x:F[0]+c+u,y:F[1]+d+f},{h:q[1],w:$[0],x:$[0]+c+u,y:$[1]+d+f},{h:v,w:h,x:c,y:d}]}(r.$(),r.mirror,t);return u(n)?[e[0][n],e[1][n],e[2][n],e[3][n]]:e}}e(null!=(n=null==(r=window)||null==(r=r.TE)||null==(r=r.state)?void 0:r.with)?n:0)&&window.TE.state.with.push(L),t.rect=L}));